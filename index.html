<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Assembler</title>
  <link rel="stylesheet" type="text/css" href="css/app.css">
</head>
<body>
  
  <div data-bind="foreach: instructions">
    <div class="instruction">
      <select data-bind="options: operations, optionsText: 'operation', value: operation"></select>  
      <div data-bind="template: {name: template()}"></div>
      <div data-bind="template: {name: 'buttons', data: {context: $root, index: $index}}"></div>
    </div>
  </div>

  <button data-bind="click: compile">Compile</button>

  <div>
    <ul data-bind="foreach: results">
      <li data-bind="text: $data"></li>
    </ul>
  </div>
  
  <!-- Templates -->
  <script type="text/html" id="R">
    <select data-bind="options: registers"></select>,
    <select data-bind="options: registers"></select>, 
    <select data-bind="options: registers"></select>  
  </script>

  <script type="text/html" id="I1">
    <select data-bind="options: registers"></select>,
    <select data-bind="options: registers"></select>, 
    <input type="text">
  </script>

  <script type="text/html" id="I2">
    <select data-bind="options: registers"></select>,
    <input type="text">(
    <select data-bind="options: registers"></select>)
  </script>

  <script type="text/html" id="J">
    <input type="text">
  </script>

  <script type="text/html" id="buttons">
    <button data-bind="click: context.clickAdd.bind(context, $index())">+</button>
    <button data-bind="click: context.clickRemove.bind(context, $index()), enable: context.enableRemove()">-</button>
  </script>

	<script src="js/knockout-3.2.0.js"></script>
	<script src="js/app.js"></script>
</body>
</html>