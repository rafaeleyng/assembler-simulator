<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Assembler</title>
  <link rel="stylesheet" type="text/css" href="css/app.css">
</head>
<body>
  
  <div data-bind="foreach: instructions">
    <div class="instruction">
      <select data-bind="options: $root.operations, optionsText: 'operation', value: operation"></select>  
      <div data-bind="template: {name: template()}"></div>
      <div data-bind="template: {name: 'buttons', data: {parent: $root, index: $index}}"></div>
    </div>
  </div>

  <button data-bind="click: compile">Compile</button>

  <div class="row">
    <ul data-bind="foreach: results">
      <li data-bind="text: $data"></li>
    </ul>
  </div>
  <button data-bind="click: cleanResults">Limpar</button>
  
  <!-- Templates -->
  <script type="text/html" id="R">
    <select data-bind="options: registers, value: rd"></select>,
    <select data-bind="options: registers, value: rs"></select>, 
    <select data-bind="options: registers, value: rt"></select>  
  </script>

  <script type="text/html" id="I1">
    <select data-bind="options: registers, value: rt"></select>,
    <select data-bind="options: registers, value: rs"></select>,
    <input type="text" data-bind="value: imm">
  </script>

  <script type="text/html" id="I2">
    <select data-bind="options: registers, value: rt"></select>,
    <input type="text" data-bind="value: imm">(
    <select data-bind="options: registers, value: rs"></select>)
  </script>

  <script type="text/html" id="J">
    <input type="text" data-bind="value: imm">
  </script>

  <script type="text/html" id="buttons">
    <button data-bind="click: parent.clickAdd.bind(parent, $index())">+</button>
    <button data-bind="click: parent.clickRemove.bind(parent, $index()), enable: parent.enableRemove()">-</button>
  </script>

	<script src="js/knockout-3.2.0.js"></script>
	<script src="js/app.js"></script>
</body>
</html>